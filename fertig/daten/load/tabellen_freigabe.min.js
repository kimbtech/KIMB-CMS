var table_next_id;var global_table_passw='vqtxvpJJWiFJrNKcOQOjMgTHBxqGdiyuBhilfRktqfWLyHEw';var tabdata=JSON.parse(enctab);$(function(){var data=tabdata;try{data=sjcl.decrypt(global_table_passw,data);open_table(data)}
catch(e){$("div#passinput").css("display","block");$("div#passinput button").click(function(){start_table()});$("div#passinput input").keyup(function(event){if(event.keyCode==13){start_table()}})}})
function start_table(){var data=tabdata;global_table_passw=$("input#pass").val();try{data=sjcl.decrypt(global_table_passw,data);open_table(data)}
catch(e){alert('Die Tabelle konnte mit diesem Passwort nicht entschl√ºsselt werden!\r\n(Fehlermeldung:"'+e.message+'")');return}}
function open_table(data){data=JSON.parse(data);table_next_id=data.nextid;data=data.table;var html='<table width="100%" border="border">';$.each(data,function(k,v){html+='<tr>';if(k==0){$.each(v,function(sk,sv){if(sk==0){html+='<th k="'+k+'" sk="'+sk+'">'+sv+'</th>'}
else{html+='<th class="edit" k="'+k+'" sk="'+sk+'">'+sv+'</th>'}})}
else{$.each(v,function(sk,sv){if(sk==0){html+='<td k="'+k+'" sk="'+sk+'">'+sv+'</td>'}
else{html+='<td class="edit" k="'+k+'" sk="'+sk+'">'+sv+'</td>'}})}
html+='</tr>'});html+='</table>';html+='<button id="exp_json">JSON Export</button>';$('div.tabelle').html(html);$("button#exp_json ").unbind('click').click(function(){make_json(data)});return !0}
function make_json(data){var file=JSON.stringify({'table':data,'nextid':table_next_id});window.open("data:text/json;utf-8,"+file,"_blank","width=900px,height=500px,top=20px,left=20px,scrollbars=yes")}
